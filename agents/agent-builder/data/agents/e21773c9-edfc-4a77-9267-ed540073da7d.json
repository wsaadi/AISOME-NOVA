{
  "id": "e21773c9-edfc-4a77-9267-ed540073da7d",
  "name": "AWS CO2 Emissions Visualizer",
  "description": "Agent qui analyse un fichier CSV d'\u00e9missions CO2 d'AWS et g\u00e9n\u00e8re un graphique lin\u00e9aire visuel",
  "long_description": null,
  "icon": "fa fa-line-chart",
  "category": "analytics",
  "status": "active",
  "metadata": {
    "created_at": "2026-01-20 11:38:42.303500",
    "updated_at": "2026-01-20 11:39:01.731046",
    "created_by": null,
    "version": "1.0.0",
    "tags": [
      "co2",
      "aws",
      "visualisation",
      "data_analysis",
      "graphique"
    ]
  },
  "tools": [
    {
      "id": "caf1c92a-3155-46ea-af56-823db1d63c1f",
      "tool_id": "document-extractor",
      "tool_name": "Extracteur de donn\u00e9es CSV",
      "enabled": true,
      "parameters": [
        {
          "name": "file",
          "source": "input",
          "value": null,
          "input_component": "csv_upload",
          "transform": null
        }
      ],
      "output_variable": "extracted_data",
      "output_transform": null,
      "on_error": "continue",
      "retry_count": 0,
      "fallback_value": null
    },
    {
      "id": "61899cce-2487-4bfd-97b1-09cb0c8a3b4d",
      "tool_id": "excel-crud",
      "tool_name": "G\u00e9n\u00e9rateur de graphique Excel",
      "enabled": true,
      "parameters": [
        {
          "name": "data",
          "source": "previous_output",
          "value": "extracted_data",
          "input_component": null,
          "transform": null
        },
        {
          "name": "chart_type",
          "source": "constant",
          "value": "line",
          "input_component": null,
          "transform": null
        },
        {
          "name": "title",
          "source": "variable",
          "value": "chart_title",
          "input_component": null,
          "transform": null
        },
        {
          "name": "x_axis",
          "source": "variable",
          "value": "x_axis_column",
          "input_component": null,
          "transform": null
        },
        {
          "name": "y_axis",
          "source": "variable",
          "value": "y_axis_column",
          "input_component": null,
          "transform": null
        }
      ],
      "output_variable": "excel_chart",
      "output_transform": null,
      "on_error": "continue",
      "retry_count": 0,
      "fallback_value": null
    }
  ],
  "ui_layout": {
    "show_header": true,
    "header_title": "AWS CO2 Emissions Visualizer",
    "header_subtitle": null,
    "header_icon": null,
    "sections": [
      {
        "id": "a943c978-80c8-436e-9e64-0bfe572a9fb3",
        "name": "upload_section",
        "title": "T\u00e9l\u00e9chargement des donn\u00e9es",
        "description": null,
        "layout_type": "column",
        "grid_columns": null,
        "gap": "16px",
        "components": [
          {
            "id": "bd14c094-2ea3-4463-9fe0-ef655fb60514",
            "type": "document_upload",
            "name": "csv_upload",
            "label": "T\u00e9l\u00e9charger le fichier CSV d'\u00e9missions CO2 AWS",
            "placeholder": null,
            "help_text": "Seuls les fichiers CSV sont accept\u00e9s. Format attendu: colonne date/heure et colonne \u00e9missions CO2.",
            "default_value": null,
            "required": true,
            "validation_rules": [],
            "options": [],
            "accept": ".csv",
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "16a16e70-00f5-4461-a7b7-7bcb932f9428",
            "type": "textarea",
            "name": "user_instructions",
            "label": "Instructions suppl\u00e9mentaires (optionnel)",
            "placeholder": "Ex: 'Concentrez-vous sur la p\u00e9riode 2023-2024' ou 'Comparez avec les objectifs de r\u00e9duction'",
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "b6b8019a-741e-4ae0-b2e8-ba7cdef5cccb",
            "type": "button",
            "name": "generate_button",
            "label": "G\u00e9n\u00e9rer le graphique",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          }
        ],
        "visible_when": null,
        "style": {
          "width": null,
          "height": null,
          "margin": null,
          "padding": null,
          "background_color": null,
          "text_color": null,
          "border_radius": null,
          "custom_css": null
        }
      },
      {
        "id": "e2790916-58b6-4348-8b1d-b312863fff76",
        "name": "results_section",
        "title": "R\u00e9sultats",
        "description": null,
        "layout_type": "column",
        "grid_columns": null,
        "gap": "16px",
        "components": [
          {
            "id": "e5ec4a66-7011-418e-be36-2f9cb572b33d",
            "type": "markdown_viewer",
            "name": "analysis_summary",
            "label": "Analyse des donn\u00e9es",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "163abae1-2632-4f3f-8d7f-eb09fd324468",
            "type": "image_viewer",
            "name": "chart_display",
            "label": "Graphique des \u00e9missions CO2",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "3d067f3b-f2a2-432d-9771-ccf0d2765b1b",
            "type": "button",
            "name": "download_button",
            "label": "T\u00e9l\u00e9charger le graphique",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          }
        ],
        "visible_when": null,
        "style": {
          "width": null,
          "height": null,
          "margin": null,
          "padding": null,
          "background_color": null,
          "text_color": null,
          "border_radius": null,
          "custom_css": null
        }
      }
    ],
    "show_sidebar": false,
    "sidebar_sections": [],
    "sidebar_position": "left",
    "sidebar_width": "300px",
    "show_footer": false,
    "footer_content": null,
    "show_actions": true,
    "actions": [],
    "primary_color": null,
    "secondary_color": null,
    "custom_css": null
  },
  "ai_behavior": {
    "system_prompt": "Tu es un expert en analyse de donn\u00e9es environnementales et en visualisation.\nTa t\u00e2che est d'analyser les donn\u00e9es d'\u00e9missions CO2 d'AWS fournies dans un fichier CSV et de g\u00e9n\u00e9rer un graphique lin\u00e9aire clair et professionnel.\nVoici les \u00e9tapes \u00e0 suivre:\n1. Extraire les donn\u00e9es du fichier CSV\n2. Identifier les colonnes pertinentes (date/heure et valeur d'\u00e9missions CO2)\n3. Valider la structure des donn\u00e9es\n4. G\u00e9n\u00e9rer un graphique lin\u00e9aire avec:\n   - Axe X: p\u00e9riode temporelle (date/heure)\n   - Axe Y: \u00e9missions CO2 (en tonnes ou autre unit\u00e9)\n   - Titre appropri\u00e9\n   - L\u00e9gende si n\u00e9cessaire\n   - Style professionnel (couleurs AWS ou neutres)\n5. Fournir une analyse sommaire des tendances observ\u00e9es\n",
    "user_prompt": "Voici un fichier CSV contenant des donn\u00e9es d'\u00e9missions CO2 d'AWS.\nAnalyse ces donn\u00e9es et g\u00e9n\u00e8re un graphique lin\u00e9aire montrant l'\u00e9volution des \u00e9missions.\nVoici des informations suppl\u00e9mentaires si fournies: {user_message}\n",
    "personality_traits": [],
    "tone": "professional",
    "default_provider": "mistral",
    "default_model": "mistral-large-latest",
    "temperature": 0.3,
    "max_tokens": 4096,
    "response_format": null,
    "include_sources": false,
    "include_confidence": false,
    "context_window": 10,
    "include_system_context": true,
    "enable_moderation": true,
    "enable_classification": true,
    "content_filters": [],
    "task_prompts": {}
  },
  "workflows": [
    {
      "id": "16f590ac-d8b1-4408-ad5d-ccfcc0e3eaa4",
      "name": "generate_co2_chart",
      "description": null,
      "trigger": "button_click",
      "trigger_config": {},
      "steps": [
        {
          "id": "extract_data",
          "name": "Extraction des donn\u00e9es CSV",
          "type": "tool_call",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "extracted_data"
        },
        {
          "id": "validate_data",
          "name": "Validation des donn\u00e9es",
          "type": "llm_call",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "validation_result"
        },
        {
          "id": "check_validation",
          "name": "V\u00e9rification de la validation",
          "type": "condition",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": {
            "variable": "validation_result.valid",
            "operator": "eq",
            "value": true
          },
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": null
        },
        {
          "id": "generate_chart",
          "name": "G\u00e9n\u00e9ration du graphique",
          "type": "tool_call",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "excel_chart"
        },
        {
          "id": "generate_analysis",
          "name": "G\u00e9n\u00e9ration de l'analyse",
          "type": "llm_call",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "analysis_text"
        },
        {
          "id": "display_results",
          "name": "Affichage des r\u00e9sultats",
          "type": "set_variable",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": null
        },
        {
          "id": "show_error",
          "name": "Affichage de l'erreur",
          "type": "set_variable",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": null
        }
      ],
      "entry_step": "extract_data",
      "variables": {},
      "global_error_handler": null
    }
  ],
  "route": "/custom-agent/aws-co2-emissions-visualizer-e21773c9",
  "requires_auth": false,
  "allowed_roles": []
}