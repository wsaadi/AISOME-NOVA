{
  "id": "9f20f98a-3925-4843-948e-667df66f3bb6",
  "name": "AWS CO2 Data Visualizer",
  "description": "Agent qui transforme un fichier CSV de donn\u00e9es CO2 AWS en graphique lin\u00e9aire interactif",
  "long_description": null,
  "icon": "fa fa-line-chart",
  "category": "data_processing",
  "status": "active",
  "metadata": {
    "created_at": "2026-01-20 11:05:15.764259",
    "updated_at": "2026-01-20 11:05:37.587285",
    "created_by": null,
    "version": "1.0.0",
    "tags": [
      "aws",
      "co2",
      "visualization",
      "data_analysis",
      "carbon_footprint"
    ]
  },
  "tools": [
    {
      "id": "7e6219d2-1123-41e0-8356-08abffdf918d",
      "tool_id": "document-extractor",
      "tool_name": "Extracteur de donn\u00e9es CSV",
      "enabled": true,
      "parameters": [
        {
          "name": "file",
          "source": "input",
          "value": null,
          "input_component": "co2_csv_file",
          "transform": null
        }
      ],
      "output_variable": "extracted_data",
      "output_transform": null,
      "on_error": "continue",
      "retry_count": 0,
      "fallback_value": null
    },
    {
      "id": "2805d00a-2da3-4334-ab68-5abb3e917e21",
      "tool_id": "excel-crud",
      "tool_name": "G\u00e9n\u00e9rateur de graphique Excel",
      "enabled": true,
      "parameters": [
        {
          "name": "operation",
          "source": "constant",
          "value": "create_chart",
          "input_component": null,
          "transform": null
        },
        {
          "name": "data",
          "source": "previous_output",
          "value": "extracted_data",
          "input_component": null,
          "transform": null
        },
        {
          "name": "chart_type",
          "source": "constant",
          "value": "line",
          "input_component": null,
          "transform": null
        },
        {
          "name": "title",
          "source": "variable",
          "value": "chart_title",
          "input_component": null,
          "transform": null
        },
        {
          "name": "x_axis",
          "source": "variable",
          "value": "x_axis_column",
          "input_component": null,
          "transform": null
        },
        {
          "name": "y_axis",
          "source": "variable",
          "value": "y_axis_column",
          "input_component": null,
          "transform": null
        }
      ],
      "output_variable": "chart_data",
      "output_transform": null,
      "on_error": "continue",
      "retry_count": 0,
      "fallback_value": null
    }
  ],
  "ui_layout": {
    "show_header": true,
    "header_title": "AWS CO2 Data Visualizer",
    "header_subtitle": null,
    "header_icon": null,
    "sections": [
      {
        "id": "a37b09cf-b9eb-4109-b483-3c4b2756e538",
        "name": "upload_section",
        "title": "T\u00e9l\u00e9chargement des donn\u00e9es",
        "description": null,
        "layout_type": "column",
        "grid_columns": null,
        "gap": "16px",
        "components": [
          {
            "id": "79ec0b19-49d3-45b8-b029-10e1a45e0c5a",
            "type": "document_upload",
            "name": "co2_csv_file",
            "label": "T\u00e9l\u00e9chargez votre fichier CSV de donn\u00e9es CO2 AWS",
            "placeholder": null,
            "help_text": "Fichier CSV contenant les donn\u00e9es d'\u00e9missions CO2 d'AWS (timestamp, valeur CO2, r\u00e9gion, etc.)",
            "default_value": null,
            "required": true,
            "validation_rules": [],
            "options": [],
            "accept": ".csv",
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "11cfad93-3a2c-43d8-827a-71c317f6f138",
            "type": "textarea",
            "name": "user_instructions",
            "label": "Instructions suppl\u00e9mentaires (optionnel)",
            "placeholder": "Pr\u00e9cisez ici toute information sp\u00e9cifique sur la structure de votre fichier ou vos attentes pour le graphique...",
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "8f5d00bc-ab1c-4ed9-b907-b3172391d428",
            "type": "text_input",
            "name": "chart_title",
            "label": "Titre du graphique",
            "placeholder": "Ex: \u00c9missions CO2 AWS - R\u00e9gion Europe (2023)",
            "help_text": null,
            "default_value": "\u00c9volution des \u00e9missions CO2 AWS",
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "72efe7e8-0daa-414b-87be-15cf280c4d54",
            "type": "select",
            "name": "time_column",
            "label": "Colonne contenant les dates/heures",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": true,
            "validation_rules": [],
            "options": [
              {
                "value": "auto",
                "label": "D\u00e9tection automatique",
                "disabled": false,
                "icon": null
              },
              {
                "value": "timestamp",
                "label": "timestamp",
                "disabled": false,
                "icon": null
              },
              {
                "value": "date",
                "label": "date",
                "disabled": false,
                "icon": null
              },
              {
                "value": "time",
                "label": "time",
                "disabled": false,
                "icon": null
              },
              {
                "value": "datetime",
                "label": "datetime",
                "disabled": false,
                "icon": null
              }
            ],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "5fbcabba-ece5-4910-b24c-b13020a15bba",
            "type": "select",
            "name": "co2_column",
            "label": "Colonne contenant les valeurs CO2",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": true,
            "validation_rules": [],
            "options": [
              {
                "value": "auto",
                "label": "D\u00e9tection automatique",
                "disabled": false,
                "icon": null
              },
              {
                "value": "co2",
                "label": "co2",
                "disabled": false,
                "icon": null
              },
              {
                "value": "carbon",
                "label": "carbon",
                "disabled": false,
                "icon": null
              },
              {
                "value": "emissions",
                "label": "emissions",
                "disabled": false,
                "icon": null
              },
              {
                "value": "value",
                "label": "value",
                "disabled": false,
                "icon": null
              }
            ],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "60c9f13f-dfef-40f3-8484-4e256234225e",
            "type": "button",
            "name": "generate_button",
            "label": "G\u00e9n\u00e9rer le graphique",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": true
          }
        ],
        "visible_when": null,
        "style": {
          "width": null,
          "height": null,
          "margin": null,
          "padding": null,
          "background_color": null,
          "text_color": null,
          "border_radius": null,
          "custom_css": null
        }
      },
      {
        "id": "534c5cf9-e201-473e-b19c-7a6b5da87f2b",
        "name": "results_section",
        "title": "R\u00e9sultats",
        "description": null,
        "layout_type": "column",
        "grid_columns": null,
        "gap": "16px",
        "components": [
          {
            "id": "9625aee3-3442-48fe-88d5-fa9fc116a725",
            "type": "markdown_viewer",
            "name": "analysis_summary",
            "label": "Analyse des donn\u00e9es",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "f5cd8758-ea1c-43c7-9006-c77079629020",
            "type": "line_chart",
            "name": "co2_line_chart",
            "label": "Graphique des \u00e9missions CO2",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "4bc35cec-f877-4225-a654-165c921a7b12",
            "type": "button",
            "name": "download_button",
            "label": "T\u00e9l\u00e9charger le graphique (PNG)",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          },
          {
            "id": "41c44701-df83-456c-aa42-165a7422d8b8",
            "type": "button",
            "name": "export_data_button",
            "label": "Exporter les donn\u00e9es (CSV)",
            "placeholder": null,
            "help_text": null,
            "default_value": null,
            "required": false,
            "validation_rules": [],
            "options": [],
            "accept": null,
            "max_size_mb": null,
            "multiple": false,
            "grid_column": null,
            "grid_row": null,
            "order": 0,
            "style": {
              "width": null,
              "height": null,
              "margin": null,
              "padding": null,
              "background_color": null,
              "text_color": null,
              "border_radius": null,
              "custom_css": null
            },
            "visible_when": null,
            "children": [],
            "data_source": null,
            "auto_bind_output": false,
            "on_change_action": null,
            "button_action": null,
            "button_variant": null,
            "is_trigger_button": false
          }
        ],
        "visible_when": null,
        "style": {
          "width": null,
          "height": null,
          "margin": null,
          "padding": null,
          "background_color": null,
          "text_color": null,
          "border_radius": null,
          "custom_css": null
        }
      }
    ],
    "show_sidebar": false,
    "sidebar_sections": [],
    "sidebar_position": "left",
    "sidebar_width": "300px",
    "show_footer": false,
    "footer_content": null,
    "show_actions": true,
    "actions": [],
    "primary_color": null,
    "secondary_color": null,
    "custom_css": null
  },
  "ai_behavior": {
    "system_prompt": "Tu es un expert en analyse de donn\u00e9es environnementales et en visualisation.\nTa t\u00e2che est d'analyser un fichier CSV contenant des donn\u00e9es d'\u00e9missions CO2 d'AWS et de g\u00e9n\u00e9rer un graphique lin\u00e9aire clair et informatif.\nVoici les \u00e9tapes \u00e0 suivre:\n1. Extraire les donn\u00e9es du fichier CSV\n2. Identifier les colonnes pertinentes (date/heure et valeurs CO2)\n3. Valider la structure des donn\u00e9es\n4. Pr\u00e9parer les donn\u00e9es pour la visualisation\n5. G\u00e9n\u00e9rer une description du graphique avec les tendances observ\u00e9es\n6. Si les donn\u00e9es ne sont pas dans un format attendu, demande des clarifications \u00e0 l'utilisateur\n\nLes donn\u00e9es AWS CO2 typiques contiennent g\u00e9n\u00e9ralement:\n- Timestamp (date/heure)\n- Valeur CO2 (en grammes ou kilogrammes)\n- R\u00e9gion AWS\n- Service AWS concern\u00e9\n\nAdapte-toi aux diff\u00e9rentes structures de fichiers CSV possibles.\n",
    "user_prompt": "Voici un fichier CSV contenant des donn\u00e9es CO2 d'AWS: {file_description}\nAnalyse ces donn\u00e9es et g\u00e9n\u00e8re un graphique lin\u00e9aire montrant l'\u00e9volution des \u00e9missions CO2 dans le temps.\nVoici des pr\u00e9cisions suppl\u00e9mentaires de l'utilisateur: {user_message}\n",
    "personality_traits": [],
    "tone": "technical",
    "default_provider": "mistral",
    "default_model": "mistral-large-latest",
    "temperature": 0.3,
    "max_tokens": 4096,
    "response_format": null,
    "include_sources": false,
    "include_confidence": false,
    "context_window": 10,
    "include_system_context": true,
    "enable_moderation": true,
    "enable_classification": true,
    "content_filters": [],
    "task_prompts": {}
  },
  "workflows": [
    {
      "id": "756e24d8-67f0-4d25-9fe3-a83bd277237d",
      "name": "main_workflow",
      "description": null,
      "trigger": "button_click",
      "trigger_config": {},
      "steps": [
        {
          "id": "validate_input",
          "name": "Validation du fichier",
          "type": "condition",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": {
            "variable": "co2_csv_file",
            "operator": "is_not_empty",
            "value": ""
          },
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": null
        },
        {
          "id": "show_error",
          "name": "Afficher erreur",
          "type": "set_variable",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "analysis_summary"
        },
        {
          "id": "extract_data",
          "name": "Extraction des donn\u00e9es",
          "type": "tool_call",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "extracted_data"
        },
        {
          "id": "validate_data",
          "name": "Validation des donn\u00e9es",
          "type": "condition",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": {
            "variable": "extracted_data",
            "operator": "is_not_empty",
            "value": ""
          },
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": null
        },
        {
          "id": "show_extraction_error",
          "name": "Afficher erreur d'extraction",
          "type": "set_variable",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "analysis_summary"
        },
        {
          "id": "prepare_chart_data",
          "name": "Pr\u00e9paration des donn\u00e9es pour le graphique",
          "type": "llm_call",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "chart_preparation"
        },
        {
          "id": "generate_chart",
          "name": "G\u00e9n\u00e9ration du graphique",
          "type": "tool_call",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "chart_data"
        },
        {
          "id": "display_results",
          "name": "Affichage des r\u00e9sultats",
          "type": "set_variable",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": "analysis_summary"
        },
        {
          "id": "update_ui",
          "name": "Mise \u00e0 jour de l'interface",
          "type": "set_variable",
          "description": null,
          "prompt_template": null,
          "system_prompt": null,
          "llm_provider": null,
          "temperature": null,
          "max_tokens": null,
          "tool_config_id": null,
          "condition": null,
          "on_true": null,
          "on_false": null,
          "loop_variable": null,
          "loop_collection": null,
          "loop_body": [],
          "parallel_steps": [],
          "input_components": [],
          "next_step": null,
          "output_variable": null
        }
      ],
      "entry_step": null,
      "variables": {},
      "global_error_handler": null
    }
  ],
  "route": "/custom-agent/aws-co2-data-visualizer-9f20f98a",
  "requires_auth": false,
  "allowed_roles": []
}